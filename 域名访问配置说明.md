# 前端用户端域名访问配置说明

## 问题说明

如果访问 `medical.example.com:3000` 出现 502 错误，需要按照以下步骤配置。

## 解决方案

### 1. 配置 hosts 文件（必需）

为了让浏览器能够解析这三个域名，需要在系统的 hosts 文件中添加域名映射。

#### Windows 系统
1. 打开文件：`C:\Windows\System32\drivers\etc\hosts`
2. 以管理员身份编辑，添加以下内容：
```
127.0.0.1 medical.example.com
127.0.0.1 ecommerce.example.com
127.0.0.1 life.example.com
```

#### Linux/Mac 系统
1. 打开文件：`/etc/hosts`
2. 使用 sudo 编辑，添加以下内容：
```
127.0.0.1 medical.example.com
127.0.0.1 ecommerce.example.com
127.0.0.1 life.example.com
```

### 2. 启动开发服务器

在 `前端-用户端` 目录下运行：
```bash
npm run dev
```

### 3. 访问应用

配置完成后，可以通过以下地址访问：
- `http://medical.example.com:3000` - 医美类
- `http://ecommerce.example.com:3000` - 电商类
- `http://life.example.com:3000` - 生活服务类

### 4. 注意事项

- 确保后端服务运行在 `http://localhost:8080`
- 如果修改了 hosts 文件，可能需要清除浏览器缓存
- 502 错误通常表示开发服务器没有运行，请确保执行了 `npm run dev`

## 生产环境部署

生产环境不需要配置 hosts 文件，只需要：
1. 配置 DNS 解析，将三个域名指向服务器 IP
2. 配置 Nginx 反向代理（参考下面的配置）

### Nginx 配置示例

```nginx
# 医美类域名
server {
    listen 80;
    server_name medical.example.com;
    
    location / {
        root /var/www/frontend-user;
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://localhost:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}

# 电商类域名（配置相同）
server {
    listen 80;
    server_name ecommerce.example.com;
    # ... 同上
}

# 生活服务类域名（配置相同）
server {
    listen 80;
    server_name life.example.com;
    # ... 同上
}
```

